 XcolorForth README
--------------------

* colorForth *

colorForth is the language/operating system designed and used by
Chuck Moore. The system is stand-alone, booting from a floppy disk and
interfacing PC hardware directly. More information on the system can be
found at:

   www.colorforth.com

* XcolorForth *

XcolorForth is a port of colorForth to the Linux operating system,
utilizing the X window system through the SDL library. You may be
interested in this program if colorForth doesn't support your
hardware, or for the convenience of running colorForth in the Linux/X
windows environment.

* Compile *

  ./compile

* Run *

  ./xcf

* Differences between colorForth and XcolorForth. *

  * Boot

  colorForth boots from the boot sector on a floppy and copies the
  first 9 sectors from the floppy disk. XcolorForth loads the file
  "color.com" to the bss section of the 'xcf' program and jumps to the
  start of the bss section. 

  * Memory

  colorForth uses a 32-bit flat mode and assumes 32 megabytes of
  memory, the start of the colorForth is a address 0. XcolorForth uses
  Linux's virtual memory system and assumes 4 megabytes of memory. The
  start address is fixed but non-zero

  * register ebp

  Register ebp is unused in colorForth, in XcolorForth is contains the
  start address for the colorForth image. The macro 'ebp' puts the
  contents of ebp on the stack. The word 'base' gives the word address
  the register ebp points to. The word 'block' adds the base to get
  the address of a block, starting with block 0.  
  
  * Graphics

  colorForth draws graphics into a buffer, which is copied in whole
  directly to frame buffer of the graphics card. XcolorForth obtains a
  buffer from the SDL library which it draws to, and buffer is copied
  to screen by SDL. The word 'frame' fetches the address of the SDL
  buffer. There is a noticable slowdown in the SDL approach. 

  * Keyboard

  colorForth reads directly from the keyboard port to poll for key
  events. XcolorForth polls SDL for key events and puts keys in a
  queue to be fetched by the colorForth image.

  * save

  'save' in colorForth saves the colorForth image onto the floppy
  disk. The XcolorForth 'save' saves the colorForth image to the file
  "color.com".

  * boot

  'boot' exits XcolorForth

* bput and bget *

  The bash scripts bput and bget are provided so you can copy blocks
  to and from the colorForth image.

* Thanks *

  Thanks to Samuel Tardieu for testing on FreeBSD, and helping with
  the compile script.

  Thanks to Peter Appelman for helping with the poll function.

* Contact *

  Please contact maslicke@oakland.edu for issues reguarding this port.